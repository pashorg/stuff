<mxfile host="app.diagrams.net" modified="2023-11-13T05:49:11.383Z" agent="Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36" etag="pz_CH-_oZIBL9duf6ehI" version="22.1.0" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="3867" dy="1713" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-7" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1734.29" y="2060" as="sourcePoint" />
            <mxPoint x="1734.29" y="2300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-9" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2189.5" y="2070" as="sourcePoint" />
            <mxPoint x="2189.5" y="2310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-10" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2429.5" y="2060" as="sourcePoint" />
            <mxPoint x="2429.5" y="2300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-11" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="2060" as="sourcePoint" />
            <mxPoint x="2670" y="2300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-12" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2909.5" y="2060" as="sourcePoint" />
            <mxPoint x="2909.5" y="2300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-13" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3149.5" y="2060" as="sourcePoint" />
            <mxPoint x="3149.5" y="2300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-14" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3389.5" y="2060" as="sourcePoint" />
            <mxPoint x="3389.5" y="2300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-8" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1949.5" y="2070" as="sourcePoint" />
            <mxPoint x="1949.5" y="2310" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-325" value="read_cache" style="rounded=0;whiteSpace=wrap;html=1;align=right;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1940" y="1370" width="580" height="100" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-306" value="Если нет ребер" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;dashed=1;dashPattern=8 8;align=right;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1640" y="1000" width="2100" height="210" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-259" value="Если есть ребра" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;dashed=1;dashPattern=8 8;align=right;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1640" y="500" width="2150" height="490" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-268" value="Удалось автоматически выявить следующий шаг: &lt;br&gt;уходим в рекурсию" style="rounded=0;whiteSpace=wrap;html=1;align=right;verticalAlign=top;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2170" y="870" width="1560" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-257" value="Если нет АвтоРебер" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;dashed=1;dashPattern=8 8;align=right;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1660" y="570" width="2070" height="220" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-260" value="make forrm and content, &lt;br&gt;save cache, &lt;br&gt;return" style="rounded=0;whiteSpace=wrap;html=1;align=right;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1670" y="580" width="1930" height="200" as="geometry" />
        </mxCell>
        <mxCell id="oMOU8abp3YVI7Rxpy9HV-313" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1270" y="4340" />
              <mxPoint x="1270" y="3745" />
            </Array>
            <mxPoint x="-20" y="3745" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--0" value="ScriptRun" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="220" y="40" width="400" height="980" as="geometry">
            <mxRectangle x="220" y="120" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--1" value="- script_run_id: str" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="26" width="400" height="26" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-12" value="- db_session: Session" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="52" width="400" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--2" value="- cache: ScriptRunCache" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="78" width="400" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--3" value="- current_step: Step" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="104" width="400" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--4" value="- context: dict" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="130" width="400" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--5" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="156" width="400" height="8" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--7" value="+ create(&#xa;    script_id: int&#xa;    init_params: dict = None&#xa;): int" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="164" width="400" height="72" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--8" value="- _generate_script_run_id(): str" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="236" width="400" height="24" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--23" value="- _get_user_id(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="260" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--9" value="+ get_initial_step(): void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="290" width="400" height="24" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--69" value="+ load(script_run_id: str): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="314" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--24" value="+ post_process_last_step(form_data: dict = None): void" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="344" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--11" value="- _process_form(form_data):void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="374" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--12" value="- _process_step_after_jobs():void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="404" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--126" value="- _update_last_context():void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="434" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--25" value="+ process_next_step(&lt;br&gt;&amp;nbsp; &amp;nbsp; next_step_id: int, &lt;br&gt;&amp;nbsp; &amp;nbsp; going_back: bool&lt;br&gt;): dict(&lt;br&gt;&amp;nbsp; &amp;nbsp; form: dict | None,&lt;br style=&quot;border-color: var(--border-color); padding: 0px; margin: 0px;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; content: str | None,&lt;br&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; edges: dict | None&lt;br&gt;)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="464" width="400" height="126" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--13" value="- _init_step(next_step_id: int, db_session: Session): Step" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="590" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--14" value="- _process_step_before_jobs():void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="620" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--127" value="- _add_context():void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="650" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--71" value="- _process_step():void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="680" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--19" value="- _save_script_cache(): void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="710" width="400" height="24" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--20" value="- _persist_script_cache():void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="734" width="400" height="24" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--21" value="- _delete_script_cache():void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;fillColor=#f5f5f5;fontColor=#333333;strokeColor=#666666;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="758" width="400" height="24" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--68" value="+ go_previous_step(): dict(&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;&amp;nbsp; &amp;nbsp; form: dict | None,&lt;br style=&quot;border-color: var(--border-color); padding: 0px; margin: 0px;&quot;&gt;&amp;nbsp; &amp;nbsp; content: str | None,&lt;br&gt;&amp;nbsp; &amp;nbsp; edges: dict | None&lt;br style=&quot;border-color: var(--border-color);&quot;&gt;)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="782" width="400" height="78" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--22" value="- _rollback_cache(): int" style="text;strokeColor=#666666;fillColor=#f5f5f5;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;fontColor=#333333;" parent="yP3TNujs68GKWhurMsJ--0" vertex="1">
          <mxGeometry y="860" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-15" value="+ loadl_last_step(): dict(&lt;br&gt;&amp;nbsp; &amp;nbsp; form: dict | None,&lt;br style=&quot;border-color: var(--border-color); padding: 0px; margin: 0px;&quot;&gt;&lt;span style=&quot;&quot;&gt;&amp;nbsp; &amp;nbsp; content: str | None,&lt;br&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; edges: dict | None&lt;br&gt;)" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" vertex="1" parent="yP3TNujs68GKWhurMsJ--0">
          <mxGeometry y="890" width="400" height="90" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--45" value="Step" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="540" y="1057" width="320" height="633" as="geometry">
            <mxRectangle x="220" y="120" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--46" value="- jobs_after: List[StepJob]" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="26" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--47" value="- jobs_before: List[StepJob]" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="52" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--48" value="- edges: List[Edge]" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="78" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--49" value="- not_false_auto_edges: List[Edge]" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="104" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--50" value="- content: str" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="130" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--51" value="- form: Form | null" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="156" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--52" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="182" width="320" height="8" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--53" value="- __init__(step_id: int, db_session: Session): void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="190" width="320" height="24" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--54" value="+ run_after_jobs(context): dict | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="214" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--55" value="+ run_before_jobs(context): dict | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="240" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-5" value="+ resolve_next_step(context): int | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="266" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--130" value="- _check_edges_auto_clauses(context): int | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="292" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--58" value="- _has_auto_edges(): bool" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="318" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--57" value="- _has_edges(): bool" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="344" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--56" value="+ make_step_data(&#xa;    context, &#xa;    return_all_edges: bool = False&#xa;): dict(&#xa;    form: dict | None, &#xa;    content: str | None,&#xa;    edges: dict | None&#xa;)" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="370" width="320" height="134" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--70" value="- _make_form(context): dict | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;fillColor=#f5f5f5;strokeColor=#666666;fontColor=#333333;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="504" width="320" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--61" value="- _make_content(context):str | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="530" width="320" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-10" value="- _make_edges(&#xa;    context, &#xa;    return_all_edges: bool = False&#xa;):dict | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--45" vertex="1">
          <mxGeometry y="560" width="320" height="72" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--117" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=diamondThin;endFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--63" target="yP3TNujs68GKWhurMsJ--51" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1130" y="1457" />
              <mxPoint x="920" y="1457" />
              <mxPoint x="920" y="1226" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--63" value="StepForm" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="980" y="1517" width="300" height="112" as="geometry">
            <mxRectangle x="220" y="120" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--64" value="- fields_meta: dict()" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--63" vertex="1">
          <mxGeometry y="26" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--65" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--63" vertex="1">
          <mxGeometry y="52" width="300" height="8" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--66" value="+ make_form(context): dict | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--63" vertex="1">
          <mxGeometry y="60" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--67" value="- _prepare_fields(context): dict | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--63" vertex="1">
          <mxGeometry y="86" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--73" value="ScriptRunCache" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="780" y="280.5" width="280" height="639" as="geometry">
            <mxRectangle x="220" y="120" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--74" value="- script_run_id: str" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="26" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--75" value="- redis: Redis" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="52" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--76" value="- script_id: int" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="78" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--77" value="- user_id: int" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="104" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--78" value="- update_ts: int" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="130" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--79" value="- init_ts: int" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="156" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--80" value="- init_params: int" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="182" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--81" value="- steps_ids: List[int]" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="208" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--82" value="- steps_context: List[Dict]" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="234" width="280" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--83" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="260" width="280" height="8" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--84" value="- __init__(script_run_id: str): void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="268" width="280" height="24" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--85" value="+ create (&#xa;    user_id: int, &#xa;    script_id: int,&#xa;    init_params: dict = None&#xa;): void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="292" width="280" height="78" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--91" value="+ read_from_redis(): void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="370" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--86" value="+ get_context(): dict" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="400" width="280" height="24" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--129" value="+ get_cache(): dict" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="424" width="280" height="24" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--89" value="+ add_context(step_id: int, context: dict): dict" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="448" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--88" value="+ update_last_context(context: dict): dict" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="478" width="280" height="32" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--90" value="+ write_to_redis(): void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="510" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--92" value="+ delete_from_redis(): void" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="540" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--94" value="+ rollback()" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="570" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--93" value="- _get_previous_step(): int" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;whiteSpace=wrap;html=1;" parent="yP3TNujs68GKWhurMsJ--73" vertex="1">
          <mxGeometry y="600" width="280" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--95" value="По сути вызов одной функции другого класса и не должно существовать. Добавлено для наглядности, потом должно быть понятнее из схемы взаимодействия" style="text;html=1;strokeColor=#666666;fillColor=#f5f5f5;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#333333;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="740" y="947" width="380" height="67" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=diamondThin;endFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--96" target="yP3TNujs68GKWhurMsJ--48" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;endArrow=diamondThin;endFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--96" target="yP3TNujs68GKWhurMsJ--49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--96" value="Edge" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="980" y="1226" width="300" height="190" as="geometry">
            <mxRectangle x="220" y="120" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--97" value="- type: str" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--96" vertex="1">
          <mxGeometry y="26" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--98" value="- content: str" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--96" vertex="1">
          <mxGeometry y="52" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--99" value="- child_step_id: int" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--96" vertex="1">
          <mxGeometry y="78" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--100" value="- auto_clause: dict | null" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--96" vertex="1">
          <mxGeometry y="104" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--101" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--96" vertex="1">
          <mxGeometry y="130" width="300" height="8" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--102" value="+ is_auto(): bool" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--96" vertex="1">
          <mxGeometry y="138" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--103" value="+ check_auto_clause(context): bool | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--96" vertex="1">
          <mxGeometry y="164" width="300" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--113" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=diamondThin;endFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--104" target="yP3TNujs68GKWhurMsJ--47" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--114" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;endArrow=diamondThin;endFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--104" target="yP3TNujs68GKWhurMsJ--46" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--104" value="StepJob" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeLast=0;collapsible=1;marginBottom=0;rounded=0;shadow=0;strokeWidth=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="200" y="1293" width="240" height="168" as="geometry">
            <mxRectangle x="220" y="120" width="160" height="26" as="alternateBounds" />
          </mxGeometry>
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--105" value="- url: str" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--104" vertex="1">
          <mxGeometry y="26" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--106" value="- params: dict" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--104" vertex="1">
          <mxGeometry y="52" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--107" value="- fileds_meta_in: dict" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--104" vertex="1">
          <mxGeometry y="78" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--108" value="- fileds_meta_out: dict" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--104" vertex="1">
          <mxGeometry y="104" width="240" height="26" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--109" value="" style="line;html=1;strokeWidth=1;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="yP3TNujs68GKWhurMsJ--104" vertex="1">
          <mxGeometry y="130" width="240" height="8" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--110" value="+ run_job(context): dict | None" style="text;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;rounded=0;shadow=0;html=0;" parent="yP3TNujs68GKWhurMsJ--104" vertex="1">
          <mxGeometry y="138" width="240" height="30" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--111" value="- Имхо, лучше все же классы и методы. Та же авторизация в СПАСе требует логики формирования токена&lt;br&gt;-&amp;nbsp;Чтобы ответить на этот вопрос, нужно понять, а будет ли юзкейс, в котором модератор скрипта будет хотеть выполнить произвольный запрос к API? Или у него будет возможность выбирать только из заранее реализованных в сервисе?" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="130" y="1493" width="310" height="140" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--112" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--105" target="yP3TNujs68GKWhurMsJ--111" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--120" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;endArrow=open;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--3" target="yP3TNujs68GKWhurMsJ--45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--121" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;endArrow=open;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--2" target="yP3TNujs68GKWhurMsJ--73" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--124" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--122" target="yP3TNujs68GKWhurMsJ--25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--122" value="Получит предыдущий шаг, откатит кэш, запустит процессинг шага с отметкой, что не надо автоматики" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="-150" y="822" width="180" height="78" as="geometry" />
        </mxCell>
        <mxCell id="yP3TNujs68GKWhurMsJ--123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--68" target="yP3TNujs68GKWhurMsJ--122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-7" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2190" y="2070" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-208" value="_generate_script_run_id" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-5" vertex="1" connectable="0">
          <mxGeometry x="-0.9203" y="1" relative="1" as="geometry">
            <mxPoint y="49" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-209" value="_get_user_id" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-5" vertex="1" connectable="0">
          <mxGeometry x="-0.907" y="1" relative="1" as="geometry">
            <mxPoint y="56" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-309" value="_persist_script_cache" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-5" vertex="1" connectable="0">
          <mxGeometry x="-0.3171" y="1" relative="1" as="geometry">
            <mxPoint y="367" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-330" value="_process_form" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-5" vertex="1" connectable="0">
          <mxGeometry x="-0.0198" y="-1" relative="1" as="geometry">
            <mxPoint y="484" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-7" value="ScriptRun" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2130" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-11" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-12" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2430" y="2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-370" value="_get_previous_step" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-11" vertex="1" connectable="0">
          <mxGeometry x="0.8707" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-12" value="ScriptRunCache" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2370" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-15" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2670" y="2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-234" value="_has_edges" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-13" vertex="1" connectable="0">
          <mxGeometry x="-0.7095" y="1" relative="1" as="geometry">
            <mxPoint y="147" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-235" value="_has_auto_edges" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-13" vertex="1" connectable="0">
          <mxGeometry x="-0.6941" y="1" relative="1" as="geometry">
            <mxPoint x="-1" y="161" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-244" value="_make_content" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-13" vertex="1" connectable="0">
          <mxGeometry x="-0.6053" y="1" relative="1" as="geometry">
            <mxPoint y="241" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-263" value="_check_edges_auto_clauses" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-13" vertex="1" connectable="0">
          <mxGeometry x="-0.4913" y="-1" relative="1" as="geometry">
            <mxPoint y="256" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-11" value="_make_edges" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-13" vertex="1" connectable="0">
          <mxGeometry x="-0.3455" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-15" value="Step" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2610" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-17" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="2910" y="2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-17" value="Edge" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="2850" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-19" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1735" y="2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-19" value="User" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1720" y="10" width="30" height="60" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1950" y="1260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-21" value="API&lt;br&gt;/scripting/scriptRun" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1880" y="10" width="140" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-23" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3150" y="2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-23" value="StepJob" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3090" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-73" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-74" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3390" y="2060" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-74" value="StepForm" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="3330" y="10" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-182" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-347" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1950" y="2070" as="targetPoint" />
            <mxPoint x="1950" y="2563" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-204" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1740" y="120" as="sourcePoint" />
            <mxPoint x="1950" y="120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-205" value="script_id, init_params" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-204" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-206" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1948" y="160" as="sourcePoint" />
            <mxPoint x="2188" y="160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-207" value="ScriptRun.create" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-206" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-211" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="200" as="sourcePoint" />
            <mxPoint x="2430" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-212" value="script_run_cache.create" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-211" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-213" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="220" as="sourcePoint" />
            <mxPoint x="2430" y="220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-214" value="script_run_cache.get_context" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-213" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-215" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1947" y="240" as="sourcePoint" />
            <mxPoint x="2187" y="240" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-216" value="script_run" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-215" vertex="1" connectable="0">
          <mxGeometry x="-0.1019" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-217" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1948" y="300" as="sourcePoint" />
            <mxPoint x="2188" y="300" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-218" value="script_run.process_next_step" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-217" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-219" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="320" as="sourcePoint" />
            <mxPoint x="2670" y="320" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-220" value="step.run_before_jobs" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-219" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-221" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="337" as="sourcePoint" />
            <mxPoint x="3150" y="337" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-222" value="step_job.run_job" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-221" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-223" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="361" as="sourcePoint" />
            <mxPoint x="3150" y="361" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-224" value="before_jobs_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-223" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-225" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="381.44000000000005" as="sourcePoint" />
            <mxPoint x="2670" y="381.44000000000005" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-226" value="before_jobs_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-225" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-227" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="400" as="sourcePoint" />
            <mxPoint x="2430" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-228" value="script_run_cache.add_context" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-227" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-229" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="420" as="sourcePoint" />
            <mxPoint x="2430" y="420" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-230" value="script_run_cache.get_context" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-229" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-232" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="460" as="sourcePoint" />
            <mxPoint x="2670" y="460" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-233" value="step.resolve_next_step" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-232" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-236" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="530" as="sourcePoint" />
            <mxPoint x="2910" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-237" value="edge.is_auto" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-236" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-238" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="553" as="sourcePoint" />
            <mxPoint x="2910" y="553" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-239" value="edge.is_auto" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-238" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-240" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="639.9999999999999" as="sourcePoint" />
            <mxPoint x="3390" y="639.9999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-241" value="step_form.make" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-240" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-242" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="3390" y="659.9999999999999" as="sourcePoint" />
            <mxPoint x="2670" y="659.9999999999999" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-243" value="form" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-242" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-245" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="710" as="sourcePoint" />
            <mxPoint x="2670" y="710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-246" value="step_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-245" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-247" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1948" y="760" as="sourcePoint" />
            <mxPoint x="2188" y="760" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-248" value="step_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-247" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-249" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730" y="770" as="sourcePoint" />
            <mxPoint x="1950" y="770" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-250" value="step_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-249" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-254" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="730" as="sourcePoint" />
            <mxPoint x="2430" y="730" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-255" value="script_run_cache.write_to_redis" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-254" vertex="1" connectable="0">
          <mxGeometry x="-0.0917" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-256" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2430" y="744.5" as="sourcePoint" />
            <mxPoint x="2190" y="744.5" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-264" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="830" as="sourcePoint" />
            <mxPoint x="2910" y="830" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-265" value="edge.check_auto_clause" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-264" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-266" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="853" as="sourcePoint" />
            <mxPoint x="2910" y="853" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-267" value="edge.check_auto_clause" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-266" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-269" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="887" as="sourcePoint" />
            <mxPoint x="2670" y="887" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-270" value="next_step_id" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-269" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-272" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2060" y="320" as="sourcePoint" />
            <mxPoint x="2190" y="887" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-273" value="step_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-272" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint x="-29" y="-128" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-274" value="else: Make form and content" style="rounded=0;whiteSpace=wrap;html=1;align=center;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1670" y="930" width="2060" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-275" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.45;entryDx=0;entryDy=0;entryPerimeter=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-274" target="GniXiSgvPlTgCx58AMJc-260" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3770" y="950" />
              <mxPoint x="3770" y="670" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-294" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1058" as="sourcePoint" />
            <mxPoint x="2430" y="1058" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-295" value="script_run_cache.get_cache" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-294" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-296" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1078" as="sourcePoint" />
            <mxPoint x="2430" y="1078" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-297" value="cache" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-296" vertex="1" connectable="0">
          <mxGeometry x="-0.1631" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-301" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1120" as="sourcePoint" />
            <mxPoint x="2430" y="1120" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-302" value="script_run_cache.delete_from_redis" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-301" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-303" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1140" as="sourcePoint" />
            <mxPoint x="2430" y="1140" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-304" value="_make_content" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1" connectable="0">
          <mxGeometry x="2669.999999999999" y="1017" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-307" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1040" as="sourcePoint" />
            <mxPoint x="2670" y="1040" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-308" value="step_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-307" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-311" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1950" y="1160" as="sourcePoint" />
            <mxPoint x="2190" y="1160" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-312" value="step_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-311" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-313" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1730" y="1180" as="sourcePoint" />
            <mxPoint x="1950" y="1180" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-314" value="step_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-313" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-315" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-316" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1950" y="1750" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-316" value="POST API&lt;br&gt;/scripting/scriptRun/{id}/processStep" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1840" y="1270" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-317" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1740" y="1350" as="sourcePoint" />
            <mxPoint x="1950" y="1350" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-318" value="script_run_id, next_step_id" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-317" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-319" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1436" as="sourcePoint" />
            <mxPoint x="2430" y="1436" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-320" value="script_run_cache.get_context" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-319" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-321" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1416" as="sourcePoint" />
            <mxPoint x="2430" y="1416" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-322" value="script_run_cache.read_from_redis" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-321" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-323" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1950" y="1390" as="sourcePoint" />
            <mxPoint x="2190" y="1390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-324" value="script_run.load" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-323" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-326" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1948" y="1450" as="sourcePoint" />
            <mxPoint x="2188" y="1450" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-328" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1948" y="1500" as="sourcePoint" />
            <mxPoint x="2188" y="1500" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-329" value="script_run.post_process_last_step" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-328" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-331" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1540" as="sourcePoint" />
            <mxPoint x="2670" y="1540" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-332" value="step.run_after_jobs" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-331" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-333" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="1557" as="sourcePoint" />
            <mxPoint x="3150" y="1557" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-334" value="step_job.run_job" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-333" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-335" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2670" y="1581" as="sourcePoint" />
            <mxPoint x="3150" y="1581" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-336" value="after_jobs_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-335" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-337" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1601.44" as="sourcePoint" />
            <mxPoint x="2670" y="1601.44" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-338" value="after_jobs_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-337" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-339" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1620" as="sourcePoint" />
            <mxPoint x="2430" y="1620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-340" value="script_run_cache.add_context" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-339" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-341" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1640" as="sourcePoint" />
            <mxPoint x="2430" y="1640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-342" value="script_run_cache.get_context" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-341" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-346" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-344" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1940" y="300" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1560" y="1700" />
              <mxPoint x="1560" y="300" />
              <mxPoint x="1930" y="300" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-344" value="process_next_step" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1720" y="1680" width="1690" height="40" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-345" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1948" y="1660" as="sourcePoint" />
            <mxPoint x="2188" y="1660" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-347" value="POST API&lt;br&gt;/scripting/scriptRun/{id}/rollback" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1855" y="1750" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-348" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1740" y="1800" as="sourcePoint" />
            <mxPoint x="1950" y="1800" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-349" value="script_run_id" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-348" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-369" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-350" target="GniXiSgvPlTgCx58AMJc-325" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="3480" y="1852" />
              <mxPoint x="3480" y="1420" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-350" value="read_cache" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1930" y="1830" width="770" height="43" as="geometry" />
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-351" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1950" y="1907" as="sourcePoint" />
            <mxPoint x="2190" y="1907" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-352" value="script_run.go_previous_step" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-351" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-359" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1920" as="sourcePoint" />
            <mxPoint x="2430" y="1920" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-360" value="script_run_cache.rollback" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-359" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-362" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="1940" as="sourcePoint" />
            <mxPoint x="2430" y="1940" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-363" value="previous_step_id" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-362" vertex="1" connectable="0">
          <mxGeometry x="-0.0353" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-364" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1948" y="1960" as="sourcePoint" />
            <mxPoint x="2188" y="1960" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-365" value="previous_step_id" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="GniXiSgvPlTgCx58AMJc-364" vertex="1" connectable="0">
          <mxGeometry x="-0.0353" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-367" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="GniXiSgvPlTgCx58AMJc-366" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1560" y="1710" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="GniXiSgvPlTgCx58AMJc-366" value="process_next_step where next_step_id = previous_step and going_back = True" style="rounded=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1720" y="1980" width="1690" height="40" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-0" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1947" y="260" as="sourcePoint" />
            <mxPoint x="2187" y="260" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-1" value="script_run.get_initial_step" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NmQdZEa5i_YJXCQIF5mG-0" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-2" value="" style="endArrow=none;html=1;rounded=0;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1947" y="280" as="sourcePoint" />
            <mxPoint x="2187" y="280" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-3" value="initial_step" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NmQdZEa5i_YJXCQIF5mG-2" vertex="1" connectable="0">
          <mxGeometry x="-0.1019" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-6" value="" style="endArrow=none;html=1;rounded=0;startArrow=classic;startFill=1;endFill=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="600" as="sourcePoint" />
            <mxPoint x="2670" y="600" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-7" value="None" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NmQdZEa5i_YJXCQIF5mG-6" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-8" value="" style="endArrow=classic;html=1;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="2190" y="620" as="sourcePoint" />
            <mxPoint x="2670" y="620" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-9" value="step.make_step_data" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="NmQdZEa5i_YJXCQIF5mG-8" vertex="1" connectable="0">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-13" value="Запись в БД" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="60" y="771" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-14" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=1;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--20" target="NmQdZEa5i_YJXCQIF5mG-13" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-15" value="Загрузка из Редиса" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1121" y="651" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-16" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--91" target="NmQdZEa5i_YJXCQIF5mG-15" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-17" value="Получение контекста в виде словаря, а не по шагам" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1121" y="677.5" width="300" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-18" value="Получение всего кэла в виде словаря для записи в БД" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1121" y="701.5" width="310" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-19" value="Добавление контекста и ИД шага в концы соответствующих списков" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1120" y="728.5" width="390" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-20" value="Обновление контекста последнего шага. Полезно при постпроцессинге" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1120" y="760.5" width="410" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-21" value="Запись в Редис" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1121" y="791.5" width="90" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-22" value="Удаление из Редиса" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1120" y="820.5" width="120" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-23" value="Откат контекста и списка шагов на 1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1120" y="850.5" width="220" height="30" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-24" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--94" target="NmQdZEa5i_YJXCQIF5mG-23" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-25" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--92" target="NmQdZEa5i_YJXCQIF5mG-22" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-26" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--90" target="NmQdZEa5i_YJXCQIF5mG-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--88" target="NmQdZEa5i_YJXCQIF5mG-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--89" target="NmQdZEa5i_YJXCQIF5mG-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--129" target="NmQdZEa5i_YJXCQIF5mG-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-30" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="yP3TNujs68GKWhurMsJ--86" target="NmQdZEa5i_YJXCQIF5mG-17" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-31" value="@jusamorez (v3):&amp;nbsp;Тут можно использовать паттерн &quot;команда.&quot; StepJob может зависеть от некоторого общего интерфейса ExecutableJob, чьи реализации могут динамически импортится через importlib.import_module, инициироваться контекстом и иметь общий метод для запуска, типа job.execute, а также общую логику обработки ошибок (кидать одинаковые, понятные для StepJob ошибки)&lt;br&gt;&lt;br&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="120" y="1640" width="320" height="140" as="geometry" />
        </mxCell>
        <mxCell id="NmQdZEa5i_YJXCQIF5mG-32" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0.999;entryY=0.074;entryDx=0;entryDy=0;entryPerimeter=0;endArrow=none;endFill=0;startArrow=classic;startFill=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="NmQdZEa5i_YJXCQIF5mG-31" target="yP3TNujs68GKWhurMsJ--104" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="480" y="1710" />
              <mxPoint x="480" y="1305" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-0" value="POST API&lt;br&gt;/scripting/scriptRun/{id}" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1855" y="2080" width="190" height="30" as="geometry" />
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-1" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1740" y="2130" as="sourcePoint" />
            <mxPoint x="1950" y="2130" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-2" value="script_run_id," style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Ak-4ImiHKO8eSP6kHmCs-1">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Ak-4ImiHKO8eSP6kHmCs-3">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3480" y="1850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-3" value="read_cache" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1930" y="2150" width="770" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-6" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="Ak-4ImiHKO8eSP6kHmCs-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="3770" y="950" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-5" value="Make form and content" style="rounded=0;whiteSpace=wrap;html=1;align=left;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="1720" y="2230" width="1690" height="40" as="geometry" />
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-16" value="" style="endArrow=classic;html=1;rounded=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1948" y="2210" as="sourcePoint" />
            <mxPoint x="2188" y="2210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Ak-4ImiHKO8eSP6kHmCs-17" value="script_run.load_last_step" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="Ak-4ImiHKO8eSP6kHmCs-16">
          <mxGeometry x="-0.0853" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
